import{r as e,c as a,o as l,G as t,J as s,I as n,R as i,S as u,K as r,W as o,V as c,M as v,H as d,F as p,U as y,N as f,l as b,X as k}from"./vendor-CXcYDY3p.js";import{S as m}from"./SectionTitle-DHhdsJQj.js";import"./utils-paxU8VKM.js";import{_ as h,d as _}from"./index-29oByGP8.js";import{N as g,a as w,b as j,c as S,d as C,e as P,B as D}from"./naive-ui-CUoIqsHV.js";/* empty css                                                                     */function x(e){if(!e||0===Object.keys(e).length)return null;const a=["PDF","Code","Project","DOI"];let l=null;for(const t of a){if(l)return l;l=e.filter(e=>e.type===t)[0]}return e[0]}const T={},U=["innerHTML"],A={key:0,class:"keyword-filter"},F={class:"badge-accent"},L={class:"badge-text"},O={key:1,class:"info-block"},z={class:"info-text"},H={class:"year-filter"},I={class:"pub-header align-both"},M={class:"pub-title"},B={class:"pub-authors"},N={class:"pub-meta"},Y={class:"pub-venue"},q={class:"pub-year"},G={class:"pub-section"},J={class:"pub-keywords"},K={class:"pub-links"},R={class:"stats"},V=h({__name:"Publications",setup(h){const V=v(),W=c(),X=e({}),E=e([]),Q=e("all"),Z=e([]),$=e(0),ee=e(""),ae=a(()=>V.query.keyword||""),le=a(()=>ae.value?ae.value.split(",").map(e=>e.trim()).filter(Boolean):[]),te=a(()=>T.researchareas||[]),se=a(()=>{if(!le.value.length)return"";const e=te.value.find(e=>e.keywords&&e.keywords.some(e=>le.value.includes(e)));return e?e.intro:""}),ne=a(()=>{let e=E.value;return le.value.length>0&&(e=e.filter(e=>e.keywords&&e.keywords.some(e=>le.value.includes(e)))),"all"===Q.value?e:e.filter(e=>e.year===Q.value)});function ie(){W.push({path:"/publications"})}const ue=a(()=>0===ne.value.length?null:x(ne.value[0].links));function re(e){e&&window.open(e,"_blank")}return a(()=>{if(0===ne.value.length)return[];const e=ne.value[0].links,a=ue.value;return a?Object.entries(e).filter(([e,l])=>e!==a.type).map(([e,a])=>({type:e,url:a})):Object.entries(e).map(([e,a])=>({type:e,url:a}))}),l(()=>{!async function(){try{const a=await _.getData("/msei_website/data/publications-content.json");X.value=a.metadata||{},E.value=(a.sections||[]).filter(e=>e.title&&"# Publications"!==e.title).map(e=>({title:e.title,authors:Array.isArray(e.authors)?e.authors.join(", "):e.authors,year:e.year,venue:e.venue,section:e.type,keywords:e.keywords||[],links:e.links})),Z.value=[...new Set(E.value.map(e=>e.year))].sort((e,a)=>a-e),$.value=E.value.length,ee.value=(e=a.lastUpdated)?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}catch(a){E.value=[]}var e}()}),(e,a)=>(d(),t("section",null,[s(m,{title:"Selected Publications"}),n("div",{class:"section-description",innerHTML:X.value.description},null,8,U),le.value.length>0?(d(),t("div",A,[n("div",F,[n("span",L,"Filtered by: "+u(le.value.join(", ")),1),n("button",{class:"btn-clear",onClick:ie},a[1]||(a[1]=[n("span",{class:"clear-icon"},"Ã—",-1)]))])])):i("",!0),le.value.length>0&&se.value?(d(),t("div",O,[a[2]||(a[2]=n("div",{class:"info-title"},"About this research area",-1)),n("div",z,u(se.value),1)])):i("",!0),n("div",H,[s(o(g),{value:Q.value,"onUpdate:value":a[0]||(a[0]=e=>Q.value=e),type:"line",animated:""},{default:r(()=>[s(o(S),{name:"all",tab:"All Years"}),(d(!0),t(p,null,y(Z.value,e=>(d(),f(o(S),{key:e,name:e,tab:e},null,8,["name","tab"]))),128))]),_:1},8,["value"])]),s(o(w),{vertical:"",size:"large"},{default:r(()=>[(d(!0),t(p,null,y(ne.value,e=>(d(),f(o(C),{key:e.title,hoverable:"",class:"publication-card",onClick:a=>function(e){const a=x(e.links);a&&re(a.url)}(e)},{default:r(()=>[n("div",I,[n("div",M,u(e.title),1),n("div",B,u(e.authors),1)]),n("div",N,[n("span",Y,u(e.venue),1),n("span",q,u(e.year),1),n("span",G,u(e.section),1)]),n("div",J,[(d(!0),t(p,null,y(e.keywords,e=>(d(),f(o(P),{key:e,size:"small",type:"success",class:"keyword-tag"},{default:r(()=>[b(u(e),1)]),_:2},1024))),128))]),n("div",K,[(d(!0),t(p,null,y(e.links,e=>(d(),f(o(D),{key:e.type,type:"PDF"===e.type?"primary":"default",size:"small",onClick:k(a=>re(e.url),["stop"])},{default:r(()=>[b(u(e.type),1)]),_:2},1032,["type","onClick"]))),128))])]),_:2},1032,["onClick"]))),128))]),_:1}),n("div",R,[s(o(j),{label:"Total Publications",value:ne.value.length},null,8,["value"]),s(o(j),{label:"Years Covered",value:Z.value.length},null,8,["value"]),s(o(j),{label:"Last Updated",value:ee.value},null,8,["value"])])]))}},[["__scopeId","data-v-80e0cecf"]]);export{V as default};
