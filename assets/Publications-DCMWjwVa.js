import{r as e,c as a,o as l,G as t,J as s,I as n,R as i,S as u,K as r,W as o,V as c,M as v,H as d,F as p,U as y,N as b,l as f,X as k}from"./vendor-Cf7GzfyK.js";import{S as m}from"./SectionTitle-jQurQju1.js";import"./utils-BbYr01CZ.js";import{_ as h}from"./index-DfH3ZhOU.js";import{N as _,a as g,b as w,c as j,d as S,e as C,B as P}from"./naive-ui-DMvGec_p.js";/* empty css                                                                     */function x(e){if(!e||0===Object.keys(e).length)return null;const a=["PDF","Code","Project","DOI"];let l=null;for(const t of a){if(l)return l;l=e.filter(e=>e.type===t)[0]}return e[0]}const D={},T=["innerHTML"],U={key:0,class:"keyword-filter"},A={class:"badge-accent"},F={class:"badge-text"},L={key:1,class:"info-block"},O={class:"info-text"},z={class:"year-filter"},H={class:"pub-header align-both"},I={class:"pub-title"},M={class:"pub-authors"},B={class:"pub-meta"},N={class:"pub-venue"},Y={class:"pub-year"},q={class:"pub-section"},G={class:"pub-keywords"},J={class:"pub-links"},K={class:"stats"},R=h({__name:"Publications",setup(h){const R=v(),V=c(),W=e({}),X=e([]),E=e("all"),Q=e([]),Z=e(0),$=e(""),ee=a(()=>R.query.keyword||""),ae=a(()=>ee.value?ee.value.split(",").map(e=>e.trim()).filter(Boolean):[]),le=a(()=>D.researchareas||[]),te=a(()=>{if(!ae.value.length)return"";const e=le.value.find(e=>e.keywords&&e.keywords.some(e=>ae.value.includes(e)));return e?e.intro:""}),se=a(()=>{let e=X.value;return ae.value.length>0&&(e=e.filter(e=>e.keywords&&e.keywords.some(e=>ae.value.includes(e)))),"all"===E.value?e:e.filter(e=>e.year===E.value)});function ne(){V.push({path:"/publications"})}const ie=a(()=>0===se.value.length?null:x(se.value[0].links));function ue(e){e&&window.open(e,"_blank")}async function re(){try{const a=await fetch("/test_web/data/publications-content.json");if(a.ok){const l=await a.json();W.value=l.metadata||{},X.value=(l.sections||[]).filter(e=>e.title&&"# Publications"!==e.title).map(e=>({title:e.title,authors:Array.isArray(e.authors)?e.authors.join(", "):e.authors,year:e.year,venue:e.venue,section:e.type,keywords:e.keywords||[],links:e.links})),Q.value=[...new Set(X.value.map(e=>e.year))].sort((e,a)=>a-e),Z.value=X.value.length,$.value=(e=l.lastUpdated)?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}}catch(a){X.value=[]}var e}return a(()=>{if(0===se.value.length)return[];const e=se.value[0].links,a=ie.value;return a?Object.entries(e).filter(([e,l])=>e!==a.type).map(([e,a])=>({type:e,url:a})):Object.entries(e).map(([e,a])=>({type:e,url:a}))}),l(()=>{re()}),(e,a)=>(d(),t("section",null,[s(m,{title:"Selected Publications"}),n("div",{class:"section-description",innerHTML:W.value.description},null,8,T),ae.value.length>0?(d(),t("div",U,[n("div",A,[n("span",F,"Filtered by: "+u(ae.value.join(", ")),1),n("button",{class:"btn-clear",onClick:ne},a[1]||(a[1]=[n("span",{class:"clear-icon"},"Ã—",-1)]))])])):i("",!0),ae.value.length>0&&te.value?(d(),t("div",L,[a[2]||(a[2]=n("div",{class:"info-title"},"About this research area",-1)),n("div",O,u(te.value),1)])):i("",!0),n("div",z,[s(o(_),{value:E.value,"onUpdate:value":a[0]||(a[0]=e=>E.value=e),type:"line",animated:""},{default:r(()=>[s(o(j),{name:"all",tab:"All Years"}),(d(!0),t(p,null,y(Q.value,e=>(d(),b(o(j),{key:e,name:e,tab:e},null,8,["name","tab"]))),128))]),_:1},8,["value"])]),s(o(g),{vertical:"",size:"large"},{default:r(()=>[(d(!0),t(p,null,y(se.value,e=>(d(),b(o(S),{key:e.title,hoverable:"",class:"publication-card",onClick:a=>function(e){const a=x(e.links);a&&ue(a.url)}(e)},{default:r(()=>[n("div",H,[n("div",I,u(e.title),1),n("div",M,u(e.authors),1)]),n("div",B,[n("span",N,u(e.venue),1),n("span",Y,u(e.year),1),n("span",q,u(e.section),1)]),n("div",G,[(d(!0),t(p,null,y(e.keywords,e=>(d(),b(o(C),{key:e,size:"small",type:"success",class:"keyword-tag"},{default:r(()=>[f(u(e),1)]),_:2},1024))),128))]),n("div",J,[(d(!0),t(p,null,y(e.links,e=>(d(),b(o(P),{key:e.type,type:"PDF"===e.type?"primary":"default",size:"small",onClick:k(a=>ue(e.url),["stop"])},{default:r(()=>[f(u(e.type),1)]),_:2},1032,["type","onClick"]))),128))])]),_:2},1032,["onClick"]))),128))]),_:1}),n("div",K,[s(o(w),{label:"Total Publications",value:se.value.length},null,8,["value"]),s(o(w),{label:"Years Covered",value:Q.value.length},null,8,["value"]),s(o(w),{label:"Last Updated",value:$.value},null,8,["value"])])]))}},[["__scopeId","data-v-13b8b79a"]]);export{R as default};
