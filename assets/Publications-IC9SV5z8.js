import{r as e,c as l,o as a,H as t,K as s,J as i,S as n,U as u,E as o,X as r,L as c,y as v,W as d,G as p,N as h,Y as y,I as b,F as m,V as f,O as I,h as w,Z as g,k}from"./vendor-NT2QlTZ2.js";import{S as j}from"./SectionTitle-BOAf5-pU.js";import{I as M}from"./ImageModal-ZuVkl_Te.js";import"./utils-paxU8VKM.js";import{_ as P,d as H}from"./index-BW17ySpc.js";import{N as _,a as Z,b as C,c as D,d as x,B as z}from"./naive-ui-DqFGWQP3.js";/* empty css                                                                     */function A(e){if(!e||0===Object.keys(e).length)return null;const l=["PDF","Code","Project","DOI"];let a=null;for(const t of l){if(a)return a;a=e.filter(e=>e.type===t)[0]}return e[0]}const B={},S=["innerHTML"],W={key:0,class:"keyword-filter"},G={class:"badge-accent"},N={class:"badge-text"},Y={key:1,class:"info-block"},U={class:"info-text"},L={class:"filters-container"},T={class:"filter-row"},R={class:"video-filter"},V={class:"switch-track"},Q={class:"switch-text"},F={class:"year-filter"},J={key:2,class:"no-results"},O={class:"pub-header align-both"},E={class:"pub-title"},q={class:"pub-authors"},$={class:"pub-meta"},K={class:"pub-venue"},X={class:"pub-year"},ee={class:"pub-section"},le={class:"pub-keywords"},ae={class:"pub-links"},te=["onClick"],se=["alt"],ie={key:0,class:"video-duration-badge"},ne={class:"stats"},ue=P({__name:"Publications",setup(P){const ue=h(),oe=d(),re=e({}),ce=e([]),ve=e("all"),de=e("all"),pe=e([]),he=e(0),ye=e(""),be=l(()=>ue.query.keyword||""),me=l(()=>be.value?be.value.split(",").map(e=>e.trim()).filter(Boolean):[]),fe=e(!1),Ie=e(""),we=l(()=>B.researchareas||[]),ge=l(()=>{if(!me.value.length)return"";const e=we.value.find(e=>e.keywords&&e.keywords.some(e=>me.value.includes(e)));return e?e.intro:""}),ke=l(()=>ce.value.filter(e=>e.videoId).length),je=l(()=>{const e=[{label:"All Years",value:"all"}];return pe.value.forEach(l=>{e.push({label:l,value:l})}),e}),Me=l(()=>{let e=ce.value;return me.value.length>0&&(e=e.filter(e=>e.keywords&&e.keywords.some(e=>me.value.includes(e)))),"video"===de.value&&(e=e.filter(e=>e.videoId)),"all"===ve.value?e:e.filter(e=>e.year===ve.value)});function Pe(){oe.push({path:"/publications"})}function He(){0!==ke.value&&(de.value="all"===de.value?"video":"all")}const _e=l(()=>0===Me.value.length?null:A(Me.value[0].links));function Ze(e){e&&window.open(e,"_blank")}return l(()=>{if(0===Me.value.length)return[];const e=Me.value[0].links,l=_e.value;return l?Object.entries(e).filter(([e,a])=>e!==l.type).map(([e,l])=>({type:e,url:l})):Object.entries(e).map(([e,l])=>({type:e,url:l}))}),a(()=>{!async function(){try{const l=await H.getData("/test_web/data/publications-content.json");re.value=l.metadata||{},ce.value=(l.sections||[]).filter(e=>e.title&&"# Publications"!==e.title).map(e=>({title:e.title,authors:Array.isArray(e.authors)?e.authors.join(", "):e.authors,year:e.year,venue:e.venue,section:e.type,keywords:e.keywords||[],links:e.links,videoId:e.videoId||null,thumbnailUrl:e.thumbnailUrl||null,videoDuration:e.videoDuration||null})),pe.value=[...new Set(ce.value.map(e=>e.year))].sort((e,l)=>l-e),he.value=ce.value.length,ye.value=(e=l.lastUpdated)?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}catch(l){ce.value=[]}var e}()}),(e,l)=>{const a=p("n-empty"),d=y("lazyload");return b(),t("section",null,[s(j,{title:"Selected Publications"}),i("div",{class:"section-description",innerHTML:re.value.description},null,8,S),me.value.length>0?(b(),t("div",W,[i("div",G,[i("span",N,"Filtered by: "+u(me.value.join(", ")),1),i("button",{class:"btn-clear",onClick:Pe},l[2]||(l[2]=[i("span",{class:"clear-icon"},"Ã—",-1)]))])])):n("",!0),me.value.length>0&&ge.value?(b(),t("div",Y,[l[3]||(l[3]=i("div",{class:"info-title"},"About this research area",-1)),i("div",U,u(ge.value),1)])):n("",!0),i("div",L,[i("div",T,[i("div",R,[i("div",{class:o(["custom-switch",{active:"video"===de.value,disabled:0===ke.value}]),onClick:He},[i("div",V,[l[4]||(l[4]=i("div",{class:"switch-thumb"},null,-1)),i("span",Q,u("video"===de.value?`Videos (${ke.value})`:"All Papers"),1)])],2)]),i("div",F,[s(r(_),{value:ve.value,"onUpdate:value":l[0]||(l[0]=e=>ve.value=e),options:je.value,size:"medium",placeholder:"All Years"},null,8,["value","options"])])])]),0===Me.value.length?(b(),t("div",J,[s(a,{description:"No publications found matching the current filters"},{icon:c(()=>[s(r(C),{size:"48"},{default:c(()=>l[5]||(l[5]=[i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[i("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})],-1)])),_:1,__:[5]})]),_:1})])):n("",!0),s(v,{name:"pub-list-fade",tag:"div",class:"pub-list-group"},{default:c(()=>[(b(!0),t(m,null,f(Me.value,e=>(b(),I(r(D),{key:e.title,hoverable:"",class:"publication-card",onClick:l=>function(e){const l=A(e.links);l&&Ze(l.url)}(e)},{default:c(()=>{return[i("div",O,[i("div",E,u(e.title),1),i("div",q,u(e.authors),1)]),i("div",$,[i("span",K,u(e.venue),1),i("span",X,u(e.year),1),i("span",ee,u(e.section),1)]),i("div",le,[(b(!0),t(m,null,f(e.keywords,e=>(b(),I(r(x),{key:e,size:"small",type:"success",class:"keyword-tag"},{default:c(()=>[w(u(e),1)]),_:2},1024))),128))]),i("div",ae,[(b(!0),t(m,null,f(e.links,e=>(b(),I(r(z),{key:e.type,type:"PDF"===e.type?"primary":"default",size:"small",onClick:g(l=>Ze(e.url),["stop"])},{default:c(()=>[w(u(e.type),1)]),_:2},1032,["type","onClick"]))),128))]),e.videoId?(b(),t("div",{key:0,class:"video-thumbnail-container",title:"Watch Video",onClick:g(l=>function(e){e.videoId&&(Ie.value="https://www.youtube.com/watch?v="+e.videoId,fe.value=!0)}(e),["stop"])},[k(i("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNjY2MiPkxvYWRpbmcuLi48L3RleHQ+PC9zdmc+",class:"video-thumbnail",alt:e.title+" video thumbnail"},null,8,se),[[d,e.thumbnailUrl||(a=e.videoId,a?`https://img.youtube.com/vi/${a}/hqdefault.jpg`:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjY4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmMGYwZjAiLz48cGF0aCBkPSJNNDAgMjZsMTYgOC0xNiA4eiIgZmlsbD0iI2NjYyIvPjwvc3ZnPg==")]]),l[6]||(l[6]=i("div",{class:"video-play-overlay"},[i("svg",{class:"play-icon",viewBox:"0 0 24 24",fill:"currentColor"},[i("path",{d:"M8 5v14l11-7z"})])],-1)),e.videoDuration?(b(),t("div",ie,u(e.videoDuration),1)):n("",!0)],8,te)):n("",!0)];var a}),_:2},1032,["onClick"]))),128))]),_:1}),i("div",ne,[s(r(Z),{label:"Total Publications",value:Me.value.length},null,8,["value"]),s(r(Z),{label:"Years Covered",value:pe.value.length},null,8,["value"]),s(r(Z),{label:"Papers with Video",value:ke.value},null,8,["value"])]),s(M,{show:fe.value,"onUpdate:show":l[1]||(l[1]=e=>fe.value=e),"content-type":"youtube","youtube-url":Ie.value},null,8,["show","youtube-url"])])}}},[["__scopeId","data-v-4b631625"]]);export{ue as default};
