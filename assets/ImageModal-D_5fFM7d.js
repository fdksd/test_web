import{r as e,c as t,w as a,O as o,I as s,L as l,J as i,H as r,S as u,k as n,z as d,X as c}from"./vendor-NT2QlTZ2.js";import{_ as p}from"./index-BKLyqEFF.js";import{g as m}from"./naive-ui-DqFGWQP3.js";const y={class:"modal-content-container"},v={key:0,class:"modal-image-container"},b=["src"],w={key:1,class:"modal-video-container"},g={key:0,class:"video-loading"},f=["src"],h=p({__name:"ImageModal",props:{show:{type:Boolean,default:!1},imageSrc:{type:String,default:""},contentType:{type:String,default:"image"},youtubeUrl:{type:String,default:""}},emits:["update:show"],setup(p,{emit:h}){const k=p,U=h,x=e(!1),S=t({get:()=>k.show,set:e=>U("update:show",e)});function _(){setTimeout(()=>{x.value=!1},300)}a(()=>k.show,e=>{e&&"youtube"===k.contentType&&(x.value=!0)});const T=t(()=>{var e,t,a;if(!k.youtubeUrl)return"";let o="";return k.youtubeUrl.includes("youtube.com/watch?v=")?o=null==(e=k.youtubeUrl.split("v=")[1])?void 0:e.split("&")[0]:k.youtubeUrl.includes("youtu.be/")?o=null==(t=k.youtubeUrl.split("youtu.be/")[1])?void 0:t.split("?")[0]:k.youtubeUrl.includes("youtube.com/embed/")&&(o=null==(a=k.youtubeUrl.split("embed/")[1])?void 0:a.split("?")[0]),o?`https://www.youtube.com/embed/${o}?autoplay=1&rel=0&showinfo=0&modestbranding=1`:""});return(e,t)=>(s(),o(c(m),{show:S.value,"onUpdate:show":t[0]||(t[0]=e=>S.value=e),preset:"card",style:{width:"90vw","max-width":"800px"}},{default:l(()=>[i("div",y,["image"===p.contentType?(s(),r("div",v,[i("img",{src:p.imageSrc,class:"modal-image",alt:"enlarged image"},null,8,b)])):u("",!0),"youtube"===p.contentType?(s(),r("div",w,[x.value?(s(),r("div",g,t[1]||(t[1]=[i("div",{class:"loading-spinner"},[i("svg",{class:"spinner",viewBox:"0 0 50 50"},[i("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none",stroke:"#FF0000","stroke-width":"3","stroke-linecap":"round","stroke-dasharray":"31.416","stroke-dashoffset":"31.416"})])],-1),i("div",{class:"loading-text"},"加载视频中...",-1)]))):u("",!0),n(i("iframe",{src:T.value,class:"modal-video",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",onLoad:_},null,40,f),[[d,!x.value]])])):u("",!0)])]),_:1},8,["show"]))}},[["__scopeId","data-v-9467a71b"]]);export{h as I};
